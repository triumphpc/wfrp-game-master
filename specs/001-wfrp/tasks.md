# Tasks: WFRP Game Master Bot

**Input**: Design documents from `/specs/001-wfrp/`
**Prerequisites**: plan.md (required), spec.md (required for user stories)
**Tests**: –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ (—Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram)

**Organization**: Tasks –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ user stories –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–π –∏—Å—Ç–æ—Ä–∏–∏.

## Format: `[ID] [P?] [Story?] –û–ø–∏—Å–∞–Ω–∏–µ —Å –ø—É—Ç—ë–º –∫ —Ñ–∞–π–ª—É`

- **[P]**: –ú–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (—Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **[Story]**: –ö–∞–∫–æ–π user story –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∑–∞–¥–∞—á–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä US1, US2, US3)
- –£–∫–∞–∑—ã–≤–∞–π —Ç–æ—á–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º

## Path Conventions

- **Single project**: `bot/` –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ü—É—Ç—å–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏–∑ plan.md

---

## Phase 0: Planning (Executor Assignment)

**Purpose**: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É—Ç—ë–º –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π, —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤, –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π.

- [x] P001 –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∏–ø—ã –∞–≥–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ [EXECUTOR: MAIN]
- [x] P002 –°–æ–∑–¥–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º meta-agent-v3 (–∑–∞–ø—É—Å—Ç–∏—Ç—å N –≤—ã–∑–æ–≤–æ–≤ –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏, 1 –Ω–∞ –∞–≥–µ–Ω—Ç–∞), –∑–∞—Ç–µ–º –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Claude Code
- [x] P003 –ù–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á: MAIN (–≤—Å–µ –∑–∞–¥–∞—á–∏ ‚Äî Go —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [x] P004 –†–∞–∑—Ä–µ—à–∏—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–¥–∞—á–∏: –ø—Ä–æ—Å—Ç—ã–µ (—Ä–µ—à–∏—Ç—å —Å–µ–π—á–∞—Å —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏), —Å–ª–æ–∂–Ω—ã–µ (—Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã –≤ research/) [EXECUTOR: MAIN]

**–†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞ Phase 0:**
- ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ ‚Äî —ç—Ç–æ Go —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã
- ‚úÖ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: MAIN –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á
- ‚úÖ –ù–µ—Ç –Ω–µ—Ä–µ—à—ë–Ω–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–¥–∞—á

**–ü–µ—Ä–µ—Ö–æ–¥ –∫ Phase 1**

**Rules**:
- **MAIN executor**: –¢–û–õ–¨–ö–û –¥–ª—è —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á (1-2 —Å—Ç—Ä–æ–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –ø—Ä–æ—Å—Ç—ã–µ –∏–º–ø–æ—Ä—Ç—ã, –æ–¥–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–≥–µ–Ω—Ç—ã**: –¢–û–õ–¨–ö–û –ø—Ä–∏ 100% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ø–æ—Å–ª–µ —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- **–°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤**: –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –≤—ã–∑–æ–≤—ã meta-agent-v3 –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–ü–æ—Å–ª–µ P002**: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Claude Code –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º –∫ P003

**Artifacts**:
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π tasks.md —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ [EXECUTOR: name], [SEQUENTIAL]/[PARALLEL-GROUP-X]
- `.claude/agents/{domain}/{type}/{name}.md` (–µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã)
- `research/*.md` (–µ—Å–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞)

---

## Phase 1: Setup (Shared Infrastructure)

**Purpose**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- [x] T001 –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å implementation plan
- [x] T002 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Go –º–æ–¥—É–ª—å —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (go.mod)
- [x] T003 [P] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å github.com/Varbyt/go-telegram-bot-api/v5
- [x] T004 [P] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å OpenAI Go SDK
- [x] T005 [P] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .gitignore –¥–ª—è Go –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí Artifacts: [config/config.go](/Users/s.vrulin/Devel/wfrp-game-master/config/config.go), [llm/provider.go](/Users/s.vrulin/Devel/wfrp-game-master/llm/provider.go), [main.go](/Users/s.vrulin/Devel/wfrp-game-master/main.go)

---

## Phase 2: Foundational (Blocking Prerequisites)

**Purpose**: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –î–û–õ–ñ–ù–ê –±—ã—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–µ—Ä–µ–¥ –õ–Æ–ë–´–ú user story

**‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò**: –ù–∏–∫–∞–∫–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ user stories –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞

- [x] T006 –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç config –≤ bot/config/ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [x] T007 –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç llm –≤ bot/llm/ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- [x] T008 –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (Provider interface) –≤ bot/llm/provider.go
- [x] T009 [P] –°–æ–∑–¥–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è z.ai –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ bot/llm/zai.go
- [x] T010 [P] –°–æ–∑–¥–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è minimax –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ bot/llm/minimax.go
- [x] T011 [P] –°–æ–∑–¥–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è OpenAI-compatible –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ bot/llm/openai.go
- [x] T012 –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç telegram –≤ bot/telegram/ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram Bot API
- [x] T013 [P] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥ –≤ bot/telegram/handlers.go
- [x] T014 [P] –°–æ–∑–¥–∞—Ç—å middleware –¥–ª—è rate limiting –∏ logging –≤ bot/telegram/middleware.go
- [x] T015 [P] –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ bot/telegram/streaming.go
- [x] T016 –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç game –≤ bot/game/ –¥–ª—è –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
- [x] T017 [P] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–µ—Å—Å–∏–∏ –≤ bot/game/session.go
- [x] T018 [P] –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≤ bot/game/character.go
- [x] T019 [P] –°–æ–∑–¥–∞—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ bot/game/context.go
- [x] T020 –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å RAG-MCP-Server –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª –≤ bot/game/rag.go
- [x] T021 –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç storage –≤ bot/storage/ –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- [x] T022 [P] –°–æ–∑–¥–∞—Ç—å –ø–∞—Ä—Å–µ—Ä Markdown —Ñ–∞–π–ª–æ–≤ –≤ bot/storage/markdown.go
- [x] T023 [P] –°–æ–∑–¥–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä –∫–∞–º–ø–∞–Ω–∏–π –≤ bot/storage/campaign.go
- [x] T024 [P] –°–æ–∑–¥–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏ —Å–µ—Å—Å–∏–π –≤ bot/storage/history.go
- [x] T025 –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ config/.env.example
- [x] T026 –°–æ–∑–¥–∞—Ç—å README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫—É

**Checkpoint**: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ ‚Äî —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è user stories

---

## Phase 3: User Story 1 - Telegram Bot Integration (Priority: P1) üéØ MVP

**Goal**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø–µ @WHFR4

**–ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –ë–æ—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ –≥—Ä—É–ø–ø–µ.

### Implementation for User Story 1

- [ ] T027 [US1] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–≤–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –≤ bot/game/session.go
- [ ] T028 [US1] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã –≤ bot/telegram/handlers.go
- [ ] T029 [US1] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º –≤ bot/telegram/handlers.go
- [ ] T030 [US1] –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è rate limiting –≤ bot/telegram/middleware.go
- [ ] T031 [US1] –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ bot/telegram/middleware.go
- [ ] T032 [US1] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram Bot API –≤ bot/telegram/
- [ ] T033 [US1] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∏–≥—Ä–æ–∫–æ–≤ –≤ bot/game/session.go
- [ ] T034 [US1] –§–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∫ LLM –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∏–≥—Ä–æ–∫–∞ –≤ bot/game/session.go
- [ ] T035 [US1] –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç—ã LLM –∏–≥—Ä–æ–∫–∞–º –≤ –≥—Ä—É–ø–ø—É –≤ bot/telegram/
- [ ] T036 [US1] –û–±–Ω–æ–≤–ª—è—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏–π –≤ bot/game/character.go

**Checkpoint**: –í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç US1 (Telegram Bot Integration) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º.

---

## Phase 4: User Story 2 - LLM Provider Integration (Priority: P1)

**Goal**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ LLM (z.ai, open.ai, minimax) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç GM —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–æ–º—Ç–∞–º.

**–ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –ë–æ—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤—ã —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤.

### Implementation for User Story 2

- [ ] T037 [US2] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ bot/config/
- [ ] T038 [US2] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–æ—Ä—è—á–µ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (hot-reload) –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –≤ bot/config/
- [ ] T039 [US2] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å z.ai –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å API –≤ bot/llm/zai.go
- [ ] T040 [US2] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å minimax –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å API –≤ bot/llm/minimax.go
- [ ] T041 [US2] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å OpenAI-compatible –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤ bot/llm/openai.go
- [ ] T042 [US2] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ bot/llm/provider.go
- [ ] T043 [US2] –§–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ LLM —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –ø—Ä–æ–º—Ç–∞–º–∏ –≤ bot/llm/provider.go
- [ ] T044 [US2] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –æ—Ç LLM –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON/—Ç–µ–∫—Å—Ç –≤ bot/llm/provider.go
- [ ] T045 [US2] –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ bot/llm/provider.go

**Checkpoint**: –í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç US2 (LLM Provider Integration) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º.

---

## Phase 5: User Story 3 - Configuration Management (Priority: P2)

**Goal**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –±–æ—Ç–∞ (–≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, —Ç–æ–∫–µ–Ω, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥—Ä—É–ø–ø—ã) –±–µ–∑ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

**–ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –ë–æ—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.

### Implementation for User Story 3

- [ ] T046 [US3] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env) –≤ bot/config/
- [ ] T047 [US3] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –≥—Ä—É–ø–ø—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ bot/config/
- [ ] T048 [US3] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ bot/config/
- [ ] T049 [US3] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ —Å–∏–≥–Ω–∞–ª—É (SIGHUP) –≤ bot/config/

**Checkpoint**: –í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç US3 (Configuration Management) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º.

---

## Phase N: Polish & Cross-Cutting Concerns

**Purpose**: –£–ª—É—á—à–µ–Ω–∏—è, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ user stories

- [ ] T050 [P] –°–æ–∑–¥–∞—Ç—å README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞
- [ ] T051 [P] –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ config/.env.example
- [ ] T052 [P] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ Go –∫–æ–¥–µ
- [ ] T053 [P] –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram –≥—Ä—É–ø–ø—ã @WHFR4
- [ ] T054 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## Dependencies & Execution Order

### Phase Dependencies

- **Setup (Phase 1)**: –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚Äî –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å—Ä–∞–∑—É
- **Foundational (Phase 2)**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Setup ‚Äî –ë–õ–û–ö–ò–†–£–ï–¢ –≤—Å–µ user stories
- **User Stories (Phase 3-5)**: –í—Å–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Foundational ‚Äî –∑–∞—Ç–µ–º –º–æ–≥—É—Ç –∏–¥—Ç–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- **Polish (Final Phase)**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∂–µ–ª–∞–µ–º—ã—Ö user stories

### User Story Dependencies

- **User Story 1 (US1)**: –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ Foundational ‚Äî –º–æ–∂–µ—Ç –∏–¥—Ç–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å US2
- **User Story 2 (US2)**: –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ Foundational ‚Äî –º–æ–∂–µ—Ç –∏–¥—Ç–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å US1
- **User Story 3 (US3)**: –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è US1 –∏ US2 ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### Within Each User Story

- Foundational infrastructure (Phase 2) ‚Üí Config –∏ LLM ‚Üí Telegram ‚Üí Game session
- –í–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã: –∑–∞–¥–∞—á–∏ —Å [P] –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

### Parallel Opportunities

- –í—Å–µ Setup –∑–∞–¥–∞—á–∏ —Å [P] –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –í—Å–µ Foundational –∑–∞–¥–∞—á–∏ —Å [P] –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–≤–Ω—É—Ç—Ä–∏ Phase 2)
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Foundational, US1 –∏ US2 –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- US3 (Configuration) –∏–¥—ë—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è US1 –∏ US2

---

## Implementation Strategy

### MVP First (User Story 1 + US2 Only)

1. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 1: Setup
2. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 2: Foundational
3. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 3: US1 (Telegram Bot Integration)
4. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 4: US2 (LLM Provider Integration)
5. **–û–°–¢–ê–ù–û–í–ö–ê –∏ –í–ê–õ–ò–î–ê–¶–ò–Ø**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å US1 –∏ US2 –≤ @WHFR4
6. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Incremental Delivery

1. Setup + Foundational ‚Üí –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
2. + US1 (Telegram Bot) ‚Üí –ë–æ—Ç —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã –≤ Telegram
3. + US2 (LLM Providers) ‚Üí –ë–æ—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ LLM
4. + US3 (Configuration) ‚Üí –ë–æ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏

### Parallel Team Strategy

–° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞):

1. –ö–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç Setup + Foundational –≤–º–µ—Å—Ç–µ
2. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Developer A: US1 + US3, Developer B: US2
3. –ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

---

## Notes

- –ó–∞–¥–∞—á–∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ user stories –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –§–æ—Ä–º–∞—Ç –∑–∞–¥–∞—á–∏: `- [ ] TaskID [P?] [Story?] –û–ø–∏—Å–∞–Ω–∏–µ —Å –ø—É—Ç—ë–º –∫ —Ñ–∞–π–ª—É`
- P = –∑–∞–¥–∞—á–∞ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- Story = US1, US2, US3 (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ä—É—á–Ω–æ–µ —á–µ—Ä–µ–∑ Telegram (–Ω–µ—Ç –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤)
- –ì–æ—Ä—è—á–µ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (hot-reload) –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
